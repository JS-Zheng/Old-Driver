!function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=0)}([function(e,t,r){e.exports=r(1)},function(e,t,r){"use strict";r.r(t);var n=class{static restoreLink(e){if(null==e)return"#";switch(e.length){case 5:return"http://0rz.tw/"+e;case 6:return"https://goo.gl/"+e;case 8:return"https://tinyurl.com/"+e;default:return"#"}}};var o=class{constructor(e,t){this.tagName=e,this.content=t}};var l=class{groupTags(e){return e.match(/\[\s*([A-Za-z]+)\s*]([\S\s,]+?)\[\/\s*([A-Za-z]+)+\s*]/g)}parseTag(e){let t=e.match(/\[\s*(img|video|iframe+)\s*]([\S\s,]+?)\[\/\s*(img|video|iframe+)\s*]/);if(null==t||t.length<3||t[1]!==t[3])return;let r=t[1].trim(),n=t[2].trim();return new o(r,n)}};var a=class{constructor(e){this.prefix=e,this.nativeElsProto={},this.componentsProto={}}getProto(e,t=!1){return t?this.nativeElsProto[e]:this.componentsProto[e]}setProto(e,t,r=!1){r?this.nativeElsProto[e]=t:this.componentsProto[e]=t}createElementWithClz(e,t=null,r=!1){const n=""+e+t+r;let o=this.getProto(n);return o||(o=this.createElement(e),t&&(t=r?t:this.getPrefixClzName(t),o.classList.add(t)),this.setProto(n,o)),o.cloneNode(!1)}createElement(e){let t=this.getProto(e,!0);return t||(t=document.createElement(e),this.setProto(e,t,!0)),t.cloneNode(!1)}getPrefixClzName(e){return null==this.prefix||""===this.prefix?e:this.prefix+"-"+e}addPrefixClzToElement(e,t){e.classList.add(this.getPrefixClzName(t))}};let i=!1;var s=class{constructor(){this.elProtoManager=new a("od")}observe(){let e=document.getElementById("contentArea");this.handleParagraphs(e.getElementsByTagName("p"))}handleParagraphs(e){null!=e&&0!==e.length&&(this.odmlParser=new l,Array.from(e).forEach(e=>{i&&(e.style.backgroundColor="#f56");let t=this.odmlParser.groupTags(e.innerText);if(null==t||t.length<1)return;e.innerText="";let r=document.createDocumentFragment();r.appendChild(this.elProtoManager.createElement("br"));let o=[];for(let e,r=0;e=t[r];r++){let t=this.odmlParser.parseTag(e),r=t.tagName;t.content.split(",").forEach(e=>{e=e.trim();let t=n.restoreLink(e);i&&console.log(`Restore [${e}]: ${t}`);let l=this.elProtoManager.createElementWithClz(r,"item");l.src=t,l.classList.add("swiper-slide"),o.push(l)})}let l=this.elProtoManager.createElement("div");o.forEach(e=>{let t=this.elProtoManager.createElement("div");t.appendChild(e),l.appendChild(t)}),r.appendChild(l),e.parentNode.appendChild(r)}))}};let c=!1;c&&console.log(`==== ${APP_NAME} production v${APP_VERSION} ====`);let u=new s,d=null,h=window.__fbNativeSetInterval?window.__fbNativeSetInterval:window.setInterval,p=window.__fbNativeClearInterval?window.__fbNativeClearInterval:window.clearInterval;function f(){d&&p(d),d=h(()=>{u.observe()},1e3)}window.st=h,window.ct=p,function(){let e=window.history.pushState,t=window.history.replaceState;window.history.pushState=function(){c&&console.log("pushState"),f(),e.apply(this,arguments)},window.history.replaceState=function(){c&&console.log("replaceState"),f(),t.apply(this,arguments)},window.addEventListener("popstate",function(){c&&console.log("popstate"),f()})}(),f()}]);
//# sourceMappingURL=index.js.map